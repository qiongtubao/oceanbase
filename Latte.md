
# 分区概念
分区是 OceanBase 的一等公民。一个表由一个或者若干个分区组成，分区是 OceanBase 逻辑上水平可扩展概念和物理上数据组织的基本单位。分区是自包含的：每个分区有自己独立的选举和leader，独立的事务日志、数据存储和索引。分区可大可小，一般大小在 G B量级，它可以被 RS 在多个节点之间调度以实现负载均衡。

每个分区有一个唯一标识 OBPartitionKey (？？？？版本4.x好像有些不同)，由租户 id、表 id、分区 id 组成。从存储层来说，每个节点就是存储和组织这些 key 对应的分区副本，每个节点上可以有数万个副本。副本有多种类型，比如只读副本与主副本之间不是通过 paxos 协议，而是异步消息同步事务日志。

# 事务执行
start_trans //开启事务，创建事务唯一ID
start_stmt  //开启语句，生成快照；
start_participant //开启一个执行算子，创建事务上下文
end_participant   //执行算子结束
end_stmt           //结束语句, commit/rollback
end_trans           //提交/回滚事务


# 快照
语句级别快照
    语句开启过程中生成
事务级别快照
    RR和Serializable隔离级别下，使用事务级别快照
    事务开启过程中生成

